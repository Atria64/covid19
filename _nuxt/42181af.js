(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{359:function(t,e,n){"use strict";n.r(e);var o=n(0).a.extend({props:{title:{type:String,required:!1,default:""},lText:{type:String,required:!1,default:""},sText:{type:String,required:!0},sTextUnder:{type:String,required:!1,default:""},unit:{type:String,required:!1,default:""}}}),r=(n(368),n(5)),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"DataView-DataSet"},[t.title?n("span",{staticClass:"DataView-DataSet-title"},[t._v(t._s(t.title))]):t._e(),t._v(" "),n("div",{staticClass:"DataView-DataSet-info"},[t.lText?[n("span",{staticClass:"DataView-DataSet-summary"},[t._v("\n        "+t._s(t.lText)+"\n        "),n("small",{staticClass:"DataView-DataSet-summary-unit"},[t._v(t._s(t.unit))])]),t._v(" "),n("br")]:t._e(),t._v(" "),n("small",{staticClass:"DataView-DataSet-date"},[t._v(t._s(t.sText))]),t._v(" "),t.sTextUnder?[n("br"),t._v(" "),n("small",{staticClass:"DataView-DataSet-date"},[t._v(t._s(t.sTextUnder))])]:t._e()],2)])}),[],!1,null,null,null);e.default=component.exports},363:function(t,e,n){var content=n(369);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(16).default)("0e424632",content,!0,{sourceMap:!1})},365:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));n(42),n(371);var o=n(121),r=n(362),l=function(t){var e=t.displayData,n=t.dataIndex,l=void 0===n?0:n,d=t.digit,_=void 0===d?0:d,f=e.labels.slice(-1)[0],data=e.datasets[l].data,y=data.slice(-1)[0],v=y-data.slice(-2)[0],h=Object(r.a)(_);return{lastDay:Object(o.e)(f).toDate(),lastDayData:h(y),dayBeforeRatio:c(v,h)}};function c(t,e){var n=e(t);switch(Math.sign(t)){case 1:return"+".concat(n);case-1:default:return"".concat(n)}}},368:function(t,e,n){"use strict";n(363)},369:function(t,e,n){(e=n(15)(!1)).push([t.i,".DataView-DataSet{display:flex;flex-flow:column;margin-bottom:10px}@media screen and (min-width:1171px){.DataView-DataSet{justify-content:space-between;flex-flow:row}}.DataView-DataSet-title{font-size:2rem;flex:1 1 50%;margin-bottom:10px}.DataView-DataSet-info{flex:1 1 50%}@media screen and (min-width:1171px){.DataView-DataSet-info{text-align:right}}.DataView-DataSet-summary{display:inline-block;color:#4d4d4d;white-space:nowrap;font-family:Hiragino Sans,sans-serif;font-style:normal;line-height:30px;font-size:3rem}.DataView-DataSet-summary-unit{width:100%;font-size:1.8rem}.DataView-DataSet-date{display:inline-block;width:100%;color:#707070;line-height:normal;font-size:1.2rem}",""]),t.exports=e},371:function(t,e,n){n(4)({target:"Math",stat:!0},{sign:n(237)})},413:function(t,e,n){var content=n(525);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(16).default)("58e84c0d",content,!0,{sourceMap:!1})},453:function(t,e,n){"use strict";n.r(e);n(18),n(63),n(123),n(34),n(122),n(42),n(11),n(36),n(64);var o=n(3),r=n(98),l=n(12),c=n.n(l),d=n(0),_=n(358),f=n(359),y=n(361),v=n(360),h=n(124),k=n(366),x=n(121),w=n(365),m=n(362),D={created:function(){this.canvas=!0},components:{DataView:_.default,DataViewTable:y.default,DataViewDataSetPanel:f.default,ScrollableChart:v.default},props:{title:{type:String,default:""},titleId:{type:String,required:!1,default:""},chartId:{type:String,default:"FeverMixedChart"},chartData:{type:Array,required:!1,default:function(){return[]}},getFormatter:{type:Function,required:!1,default:function(t){return Object(m.c)()}},date:{type:String,required:!0,default:""},labels:{type:Array,default:function(){return[]}},dataLabels:{type:Array,default:function(){return[]}},tableLabels:{type:Array,default:function(){return[]}},unit:{type:String,default:""},yAxesBgPlugin:{type:Array,default:function(){return h.b}}},data:function(){return{displayLegends:[!0,!0,!0],colors:[Object(k.a)("A"),Object(k.a)("C"),Object(k.a)("E")],canvas:!0}},computed:{displayInfo:function(){var t=Object(w.a)({displayData:this.displayData,dataIndex:2}),e=t.lastDay,n=t.lastDayData,o=t.dayBeforeRatio;return{lText:n,sText:"".concat(this.$t("{date} の数値",{date:this.$d(e,"dateWithoutYear")}),"（").concat(this.$t("７日間移動平均"),"）"),sTextUnder:"（".concat(this.$t("前日比"),": ").concat(o," ").concat(this.unit,"）"),unit:this.unit}},displayData:function(){var t=[Object(k.a)("A"),Object(k.a)("C"),Object(k.a)("E")];return{labels:this.labels,datasets:[{type:"bar",label:this.dataLabels[0],data:this.chartData[0],backgroundColor:t[0].fillColor,borderColor:t[0].strokeColor,borderWidth:1,order:1},{type:"bar",label:this.dataLabels[1],data:this.chartData[1],backgroundColor:t[1].fillColor,borderColor:t[1].strokeColor,borderWidth:1,order:2},{type:"line",label:this.dataLabels[2],data:this.chartData[2],pointBackgroundColor:"rgba(0,0,0,0)",pointBorderColor:"rgba(0,0,0,0)",borderColor:t[2].strokeColor,borderWidth:3,fill:!1,order:0,lineTension:0}]}},tableHeaders:function(){return[{text:this.$t("日付"),value:"text"}].concat(Object(r.a)(this.tableLabels.map((function(text,i){return{text:text,value:String(i),align:"end"}}))))},tableData:function(){var t=this;return this.labels.map((function(label,i){return Object.assign.apply(Object,[{text:label}].concat(Object(r.a)(t.chartData.map((function(e,n){var data=t.chartData[n];return null===data[i]?Object(o.a)({},n,""):Object(o.a)({},n,t.getFormatter(n)(data[i]))})))))})).sort((function(a,b){return c()(a.text).unix()-c()(b.text).unix()})).reverse()},displayOption:function(){var t=this,e=this,n=this.unit[1],o=this.getFormatter,r={tooltips:{displayColors:!1,callbacks:{label:function(e){var r=o(e.datasetIndex)(parseFloat(e.value)),label="".concat(t.dataLabels[e.datasetIndex]," : ").concat(r," ").concat(t.$t("人"));return e.datasetIndex>=3&&(label="".concat(t.dataLabels[e.datasetIndex]," : ").concat(r," ").concat(n)),label},title:function(t,data){if(t[0].datasetIndex<4){var label=data.labels[t[0].index];return e.$d(Object(x.d)(label),"dateWithoutYear")}return""}}},maintainAspectRatio:!1,legend:{display:!1},scales:{xAxes:[{id:"day",stacked:!0,gridLines:{display:!1},ticks:{fontSize:9,maxTicksLimit:20,fontColor:"#808080",maxRotation:0,callback:function(label){return c()(label).format("D")}}},{id:"month",stacked:!0,gridLines:{drawOnChartArea:!1,drawTicks:!0,drawBorder:!1,tickMarkLength:10},ticks:{fontSize:11,fontColor:"#808080",padding:3,fontStyle:"bold"},type:"time",time:{unit:"month",displayFormats:{month:"MMM"}}}],yAxes:[{stacked:!0,gridLines:{display:!0,drawOnChartArea:!0,color:"#E5E5E5"},ticks:{suggestedMin:0,maxTicksLimit:8,fontColor:"#808080",suggestedMax:this.scaledTicksYAxisMax}}]}};return"true"===this.$route.query.ogp&&Object.assign(r,{animation:{duration:0}}),r},displayDataHeader:function(){var t=this.displayData.datasets,e=Array.from(t[0].data.keys()).map((function(i){return t[0].data[i]+t[1].data[i]})),n=e.reduce((function(a,b){return Math.max(a,b)}),0),o=e.indexOf(n);return{labels:["2020-01-01"],datasets:[{data:[this.displayData.datasets[0].data[o]],backgroundColor:"transparent",borderWidth:0},{data:[this.displayData.datasets[1].data[o]],backgroundColor:"transparent",borderWidth:0},{type:"line",data:[this.displayData.datasets[2].data[o]],backgroundColor:"transparent",borderColor:"transparent",borderWidth:0}]}},displayOptionHeader:function(){return{maintainAspectRatio:!1,legend:{display:!1},tooltips:{enabled:!1},scales:{xAxes:[{id:"day",stacked:!0,gridLines:{display:!1},ticks:{fontSize:9,maxTicksLimit:20,fontColor:"transparent",maxRotation:0,minRotation:0,callback:function(label){return c()(label).format("D")}}},{id:"month",stacked:!0,gridLines:{drawOnChartArea:!1,drawTicks:!1,drawBorder:!1,tickMarkLength:10},ticks:{fontSize:11,fontColor:"transparent",padding:13,fontStyle:"bold"},type:"time",time:{unit:"month"}}],yAxes:[{type:"linear",position:"left",stacked:!0,gridLines:{display:!0,drawOnChartArea:!1,color:"#E5E5E5"},ticks:{suggestedMin:0,maxTicksLimit:8,fontColor:"#808080",suggestedMax:this.scaledTicksYAxisMax}}]},animation:{duration:0}}},scaledTicksYAxisMax:function(){var t=this,e=Array.from(this.chartData[0].keys()).map((function(i){return t.chartData[0][i]+t.chartData[1][i]})).reduce((function(a,b){return Math.max(a,b)}),0);return this.chartData[2].reduce((function(a,b){return Math.max(a,b)}),e)}},methods:{onClickLegend:function(i){this.displayLegends[i]=!this.displayLegends[i],this.displayLegends=this.displayLegends.slice()},makeLineData:function(t){return this.chartData[0].map((function(e){return t}))}},mounted:function(){var canvas=this.$refs.barChart.$el.querySelector("canvas"),t="".concat(this.titleId,"-graph");canvas&&(canvas.setAttribute("role","img"),canvas.setAttribute("aria-labelledby",t))}},C=d.a.extend(D),S=n(524),L=n(5);var component=Object(L.a)(C,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("data-view",{attrs:{title:t.title,"title-id":t.titleId,date:t.date},scopedSlots:t._u([{key:"description",fn:function(){return[t._t("description")]},proxy:!0},{key:"additionalDescription",fn:function(){return[t._t("additionalDescription")]},proxy:!0},{key:"dataTable",fn:function(){return[n("client-only",[n("data-view-table",{attrs:{headers:t.tableHeaders,items:t.tableData}})],1)]},proxy:!0},{key:"infoPanel",fn:function(){return[n("data-view-data-set-panel",{attrs:{"l-text":t.displayInfo.lText,"s-text":t.displayInfo.sText,"s-text-under":t.displayInfo.sTextUnder,unit:t.displayInfo.unit}})]},proxy:!0}],null,!0)},[t._v(" "),n("ul",{class:t.$style.GraphLegend,style:{display:t.canvas?"block":"none"}},t._l(t.dataLabels,(function(e,i){return n("li",{key:i,on:{click:function(e){return t.onClickLegend(i)}}},[n("button",[n("div",2===i?{style:{backgroundColor:t.colors[i].fillColor,border:0,height:"3px"}}:{style:{backgroundColor:t.colors[i].fillColor,borderColor:t.colors[i].strokeColor}}),t._v(" "),n("span",{style:{textDecoration:t.displayLegends[i]?"none":"line-through"}},[t._v(t._s(e))])])])})),0),t._v(" "),n("h4",{staticClass:"visually-hidden",attrs:{id:t.titleId+"-graph"}},[t._v("\n    "+t._s(t.$t("{title}のグラフ",{title:t.title}))+"\n  ")]),t._v(" "),n("scrollable-chart",{directives:[{name:"show",rawName:"v-show",value:t.canvas,expression:"canvas"}],attrs:{"display-data":t.displayData},scopedSlots:t._u([{key:"chart",fn:function(e){var o=e.chartWidth;return[n("bar",{ref:"barChart",attrs:{"chart-id":t.chartId,"chart-data":t.displayData,options:t.displayOption,"display-legends":t.displayLegends,height:240,width:o}})]}},{key:"sticky-chart",fn:function(){return[n("bar",{staticClass:"sticky-legend",attrs:{"chart-id":t.chartId+"-header","chart-data":t.displayDataHeader,options:t.displayOptionHeader,plugins:t.yAxesBgPlugin,"display-legends":t.displayLegends,height:240}})]},proxy:!0}])})],1)}),[],!1,(function(t){this.$style=S.default.locals||S.default}),null,null);e.default=component.exports;installComponents(component,{ScrollableChart:n(360).default,DataViewTable:n(361).default,DataViewDataSetPanel:n(359).default,DataView:n(358).default})},524:function(t,e,n){"use strict";var o=n(413),r=n.n(o);n.d(e,"default",(function(){return r.a}))},525:function(t,e,n){(e=n(15)(!1)).push([t.i,".GraphLegend_Sg5Yr{text-align:center;list-style:none;padding:0!important}.GraphLegend_Sg5Yr li{display:inline-block;margin:0 3px}.GraphLegend_Sg5Yr li div{height:12px;margin:2px 4px;width:40px;display:inline-block;vertical-align:middle;border-width:1px;border-style:solid}.GraphLegend_Sg5Yr li button{color:#707070;font-size:1.2rem}",""]),e.locals={GraphLegend:"GraphLegend_Sg5Yr"},t.exports=e},526:function(t){t.exports=JSON.parse('{"date":"2020/12/11 20:00","data":[{"date":"2020-10-30","count":{"fever_consultation_center":347,"cocoa_dial":9,"total":356,"weekly_average_total":null}},{"date":"2020-10-31","count":{"fever_consultation_center":705,"cocoa_dial":33,"total":738,"weekly_average_total":null}},{"date":"2020-11-01","count":{"fever_consultation_center":785,"cocoa_dial":15,"total":800,"weekly_average_total":null}},{"date":"2020-11-02","count":{"fever_consultation_center":637,"cocoa_dial":17,"total":654,"weekly_average_total":null}},{"date":"2020-11-03","count":{"fever_consultation_center":844,"cocoa_dial":12,"total":856,"weekly_average_total":null}},{"date":"2020-11-04","count":{"fever_consultation_center":686,"cocoa_dial":13,"total":699,"weekly_average_total":null}},{"date":"2020-11-05","count":{"fever_consultation_center":546,"cocoa_dial":22,"total":568,"weekly_average_total":667}},{"date":"2020-11-06","count":{"fever_consultation_center":520,"cocoa_dial":27,"total":547,"weekly_average_total":695}},{"date":"2020-11-07","count":{"fever_consultation_center":708,"cocoa_dial":42,"total":750,"weekly_average_total":696}},{"date":"2020-11-08","count":{"fever_consultation_center":860,"cocoa_dial":32,"total":892,"weekly_average_total":709}},{"date":"2020-11-09","count":{"fever_consultation_center":655,"cocoa_dial":35,"total":690,"weekly_average_total":715}},{"date":"2020-11-10","count":{"fever_consultation_center":617,"cocoa_dial":57,"total":674,"weekly_average_total":689}},{"date":"2020-11-11","count":{"fever_consultation_center":674,"cocoa_dial":39,"total":713,"weekly_average_total":691}},{"date":"2020-11-12","count":{"fever_consultation_center":703,"cocoa_dial":60,"total":763,"weekly_average_total":718}},{"date":"2020-11-13","count":{"fever_consultation_center":822,"cocoa_dial":82,"total":904,"weekly_average_total":769}},{"date":"2020-11-14","count":{"fever_consultation_center":926,"cocoa_dial":56,"total":982,"weekly_average_total":803}},{"date":"2020-11-15","count":{"fever_consultation_center":944,"cocoa_dial":51,"total":995,"weekly_average_total":817}},{"date":"2020-11-16","count":{"fever_consultation_center":890,"cocoa_dial":50,"total":940,"weekly_average_total":853}},{"date":"2020-11-17","count":{"fever_consultation_center":813,"cocoa_dial":52,"total":865,"weekly_average_total":880}},{"date":"2020-11-18","count":{"fever_consultation_center":909,"cocoa_dial":82,"total":991,"weekly_average_total":920}},{"date":"2020-11-19","count":{"fever_consultation_center":978,"cocoa_dial":89,"total":1067,"weekly_average_total":963}},{"date":"2020-11-20","count":{"fever_consultation_center":1055,"cocoa_dial":90,"total":1145,"weekly_average_total":998}},{"date":"2020-11-21","count":{"fever_consultation_center":1157,"cocoa_dial":74,"total":1231,"weekly_average_total":1033}},{"date":"2020-11-22","count":{"fever_consultation_center":1200,"cocoa_dial":102,"total":1302,"weekly_average_total":1077}},{"date":"2020-11-23","count":{"fever_consultation_center":1174,"cocoa_dial":85,"total":1259,"weekly_average_total":1123}},{"date":"2020-11-24","count":{"fever_consultation_center":1057,"cocoa_dial":86,"total":1143,"weekly_average_total":1163}},{"date":"2020-11-25","count":{"fever_consultation_center":1030,"cocoa_dial":79,"total":1109,"weekly_average_total":1179}},{"date":"2020-11-26","count":{"fever_consultation_center":985,"cocoa_dial":57,"total":1042,"weekly_average_total":1176}},{"date":"2020-11-27","count":{"fever_consultation_center":848,"cocoa_dial":49,"total":897,"weekly_average_total":1140}},{"date":"2020-11-28","count":{"fever_consultation_center":1160,"cocoa_dial":64,"total":1224,"weekly_average_total":1139}},{"date":"2020-11-29","count":{"fever_consultation_center":1167,"cocoa_dial":37,"total":1204,"weekly_average_total":1125}},{"date":"2020-11-30","count":{"fever_consultation_center":1025,"cocoa_dial":60,"total":1085,"weekly_average_total":1101}},{"date":"2020-12-01","count":{"fever_consultation_center":881,"cocoa_dial":62,"total":943,"weekly_average_total":1072}},{"date":"2020-12-02","count":{"fever_consultation_center":959,"cocoa_dial":71,"total":1030,"weekly_average_total":1061}},{"date":"2020-12-03","count":{"fever_consultation_center":907,"cocoa_dial":81,"total":988,"weekly_average_total":1053}},{"date":"2020-12-04","count":{"fever_consultation_center":830,"cocoa_dial":78,"total":908,"weekly_average_total":1055}},{"date":"2020-12-05","count":{"fever_consultation_center":1165,"cocoa_dial":70,"total":1235,"weekly_average_total":1056}},{"date":"2020-12-06","count":{"fever_consultation_center":1206,"cocoa_dial":65,"total":1271,"weekly_average_total":1066}},{"date":"2020-12-07","count":{"fever_consultation_center":1063,"cocoa_dial":54,"total":1117,"weekly_average_total":1070}},{"date":"2020-12-08","count":{"fever_consultation_center":1023,"cocoa_dial":54,"total":1077,"weekly_average_total":1089}},{"date":"2020-12-09","count":{"fever_consultation_center":934,"cocoa_dial":74,"total":1008,"weekly_average_total":1086}},{"date":"2020-12-10","count":{"fever_consultation_center":925,"cocoa_dial":78,"total":1003,"weekly_average_total":1088}}]}')},574:function(t,e,n){"use strict";n.r(e);n(34);var o=n(453),r=n(526),l={components:{FeverMixedChart:o.default},data:function(){var data=r.data,t=data.map((function(t){return t.count.fever_consultation_center})),e=data.map((function(t){return t.count.cocoa_dial})),n=data.map((function(t){return t.count.weekly_average_total})),o=data.map((function(t){return t.date}));return{updated:r.date,graphData:[t,e,n],dateList:o,labels:[this.$t("発熱相談センター"),this.$t("COCOA専用ダイヤル"),this.$t("７日間移動平均")]}}},c=n(5),d=n(31),_=n.n(d),f=n(591),component=Object(c.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-col",{staticClass:"DataCard",attrs:{cols:"12",md:"6"}},[n("client-only",[n("fever-mixed-chart",{attrs:{title:t.$t("東京都発熱相談センターにおける相談件数"),"title-id":"number-of-reports-to-tokyo-fever-consultation-center","info-titles":[t.$t("新規陽性者における接触歴等不明者数"),t.$t("増加比")],"chart-id":"tokyo-fever-consultation-center-chart","chart-data":t.graphData,date:t.updated,labels:t.dateList,unit:t.$t("件.reports"),"data-labels":t.labels,"table-labels":t.labels},scopedSlots:t._u([{key:"additionalDescription",fn:function(){return[n("span",[t._v(t._s(t.$t("（注）")))]),t._v(" "),n("ul",[n("li",[t._v("\n            "+t._s(t.$t("曜日などによる数値のばらつきにより、日々の結果が変動するため、こうしたばらつきを平準化し全体の傾向を見る趣旨から、過去７日間の移動平均値を折れ線グラフで示す（例えば、11月16日の移動平均値は、11月10日から11月16日までの実績値を平均したもの）"))+"\n          ")]),t._v(" "),n("li",[t._v("\n            "+t._s(t.$t("東京都発熱相談センターを開設した10月30日17時から作成"))+"\n          ")])])]},proxy:!0}])})],1)],1)}),[],!1,null,null,null);e.default=component.exports;_()(component,{FeverMixedChart:n(453).default}),_()(component,{VCol:f.a})}}]);